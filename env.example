# Database Configuration
MONGODB_URI=mongodb://localhost:27017/drug-traceability
DB_NAME=drug_traceability

# Redis Configuration (Optional - for caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=7d

# Server Configuration
PORT=5000
NODE_ENV=development

# Client/Frontend URL (cho QR code)
# Nếu không set, hệ thống sẽ tự động detect IP address của máy
# Ví dụ: http://192.168.1.100:3000 hoặc https://yourdomain.com
CLIENT_URL=
FRONTEND_URL=
FRONTEND_PORT=3000

# Google OAuth Configuration (Optional - nếu dùng Passport.js)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# Firebase Admin SDK Configuration (CHO ĐĂNG NHẬP GOOGLE)
# Option 1: Service Account Key (Recommended - more secure)
# Lấy từ Firebase Console → Project Settings → Service accounts → Generate new private key
# Chạy: node convert-firebase-key.js <path-to-json-file>
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}

# Option 2: Project ID only (Simpler, but requires default credentials from GCP)
# FIREBASE_PROJECT_ID=your-project-id

# Blockchain Configuration
# Network options: development, sepolia, mainnet, bsc_testnet, bsc_mainnet, 
#                  polygon_mumbai, polygon_mainnet, arbitrum_sepolia, arbitrum_one,
#                  optimism_sepolia, optimism_mainnet
BLOCKCHAIN_NETWORK=development
INFURA_PROJECT_ID=your_infura_project_id
PRIVATE_KEY=your_private_key_for_blockchain_transactions
MNEMONIC=your_mnemonic_phrase_for_hdwallet_provider

# Smart Contract Addresses (có thể cấu hình riêng cho từng network)
CONTRACT_ADDRESS=0x...
# Hoặc cấu hình riêng cho từng network:
# CONTRACT_ADDRESS_DEVELOPMENT=0x...
# CONTRACT_ADDRESS_SEPOLIA=0x...
# CONTRACT_ADDRESS_MAINNET=0x...
# CONTRACT_ADDRESS_BSC_TESTNET=0x...
# CONTRACT_ADDRESS_BSC_MAINNET=0x...
# CONTRACT_ADDRESS_POLYGON_MUMBAI=0x...
# CONTRACT_ADDRESS_POLYGON_MAINNET=0x...
# CONTRACT_ADDRESS_ARBITRUM_SEPOLIA=0x...
# CONTRACT_ADDRESS_ARBITRUM_ONE=0x...
# CONTRACT_ADDRESS_OPTIMISM_SEPOLIA=0x...
# CONTRACT_ADDRESS_OPTIMISM_MAINNET=0x...

# HSM Configuration
HSM_ENABLED=false
HSM_PROVIDER=mock
HSM_LOCAL_PRIVATE_KEY=
HSM_LOCAL_ALGORITHM=RSA-SHA256
HSM_AWS_REGION=
HSM_AWS_ACCESS_KEY_ID=
HSM_AWS_SECRET_ACCESS_KEY=
HSM_AWS_KEY_ID=

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here

# Email Configuration (Optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# File Upload
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# MoMo Payment Gateway Configuration
# Lấy từ: https://business.momo.vn/portal/app/payment-integration-center
# ⚠️ LƯU Ý: Partner Code ở PRODUCTION và TEST là khác nhau!

# PRODUCTION Credentials (từ MoMo Business Portal - môi trường PRODUCTION)
# Partner Code: MOMOSWSW20251223
# Access Key: ATWCDAwowhtxxMfE
# Secret Key: W6ycQ1EjFelK3iHVxbd5R9P5p4Kpkq9M
MOMO_PARTNER_CODE=MOMOSWSW20251223
MOMO_ACCESS_KEY=ATWCDAwowhtxxMfE
MOMO_SECRET_KEY=W6ycQ1EjFelK3iHVxbd5R9P5p4Kpkq9M

# Môi trường: 'sandbox' (TEST) hoặc 'production' (PRODUCTION)
# ⚠️ QUAN TRỌNG: Chuyển sang 'sandbox' để test trước khi dùng production
MOMO_ENVIRONMENT=production

# Tên đối tác (hiển thị trong MoMo app)
MOMO_PARTNER_NAME=Drug Traceability System

# Mã cửa hàng (có thể để mặc định hoặc tạo mới trong MoMo Portal)
MOMO_STORE_ID=MomoTestStore

# IPN URL (Instant Payment Notification)
# MoMo sẽ gọi URL này để thông báo kết quả thanh toán
# ⚠️ QUAN TRỌNG: URL này PHẢI là public URL (không thể dùng localhost trong production)
# Development: có thể dùng ngrok hoặc localtunnel để test
# Production: phải là domain thật, có HTTPS
MOMO_IPN_URL=http://localhost:5000/api/payments/momo/callback

# Redirect URL
# URL mà user sẽ được redirect về sau khi thanh toán xong
# Development: http://localhost:3000/payments/momo/callback
# Production: https://yourdomain.com/payments/momo/callback
MOMO_REDIRECT_URL=http://localhost:3000/payments/momo/callback

# VNPay Payment Gateway Configuration
# Lấy từ: https://sandbox.vnpayment.vn/ hoặc liên hệ VNPay để đăng ký
# ⚠️ LƯU Ý: Đây là thông tin môi trường TEST/SANDBOX, không dùng cho production

# Terminal ID / Mã Website (vnp_TmnCode)
VNPAY_TMN_CODE=7YP6Y1J7

# Secret Key / Chuỗi bí mật tạo checksum (vnp_HashSecret)
VNPAY_HASH_SECRET=HLCMR0NYU4CFTM2R3VB429HCMFONAGD3

# Môi trường: 'sandbox' (TEST) hoặc 'production' (PRODUCTION)
# ⚠️ QUAN TRỌNG: Chuyển sang 'sandbox' để test trước khi dùng production
VNPAY_ENVIRONMENT=sandbox

# Return URL
# URL mà user sẽ được redirect về sau khi thanh toán xong
# Development: http://localhost:3000/payments/vnpay/callback
# Production: https://yourdomain.com/payments/vnpay/callback
VNPAY_RETURN_URL=http://localhost:3000/payments/vnpay/callback

# IPN URL (Instant Payment Notification)
# VNPay sẽ gọi URL này để thông báo kết quả thanh toán (server-to-server)
# ⚠️ QUAN TRỌNG: URL này PHẢI là public URL (không thể dùng localhost trong production)
# Development: có thể dùng ngrok hoặc localtunnel để test
# Production: phải là domain thật, có HTTPS
# Merchant cần gửi URL này cho VNPay để họ cấu hình IPN
VNPAY_IPN_URL=http://localhost:5000/api/payments/vnpay/ipn

# Bật log để debug (tùy chọn)
VNPAY_ENABLE_LOG=true